<mat-progress-bar mode="indeterminate" color="accent" *ngIf="loading" style="margin-bottom: 1em;"></mat-progress-bar>

<div *ngIf="journal != undefined" fxLayout="row wrap" fxLayout.xs="column" fxLayoutGap="1em"  style="margin: 1em;">
    <!-- ournal Information -->
    <mat-card  fxFlex="1 2 calc(15em + 20px)">
        <mat-card-header>
            
            <img mat-card-avatar *ngIf="journal.data.logo; else logotemplate" [style.background-size]="'cover'" src="journal.data.logo">
            <ng-template #logotemplate>
                <img mat-card-avatar [src]="defaultLogo" alt="">
            </ng-template>
            
            <mat-card-title *ngIf="journal.name">
                {{journal.name}}
            </mat-card-title>
            
            <mat-card-subtitle>
                <label *ngIf="journal.data.subtitle"> {{journal.data.subtitle}} </label>
                <label *ngIf="journal.data.shortname"> {{journal.data.shortname}} </label>
            </mat-card-subtitle>
            
        </mat-card-header>
        <mat-divider [inset]="true" style="margin-bottom: 1em; margin-top: 1em;"></mat-divider>
        <mat-card-content>
            
            <label style="font-weight: bold;">ISSN: </label>
            <div style="margin-left: .8em;">
                <p *ngIf="journal.data.issn.p">
                    <label>Impreso: </label> {{journal.data.issn.p}}
                </p>
                <p *ngIf="journal.data.issn.e">
                    <label>Electrónico</label> {{journal.data.issn.e}}
                </p>
                <p *ngIf="journal.data.issn.l">
                    <label>De enlace</label> {{journal.data.issn.l}}
                </p>
            </div>
            
            <p *ngIf="journal.data.rnps">
                <label style="font-weight: bold;"> RNPS: </label> {{journal.data.rnps}}
            </p>
            
            <p *ngIf="journal.data.url">
                <label style="font-weight: bold;"> URL: </label> {{journal.data.url}}
            </p>
            
            <p *ngIf="journal.data.email">
                <label style="font-weight: bold;"> Email: </label> {{journal.data.email}}
            </p>
            
            <p *ngIf="journal.data.seriadas_cubanas">
                <label style="font-weight: bold;"> Seriadas Cubanas: </label> 
                <a href="journal.data.seriadas_cubanas">{{journal.data.seriadas_cubanas}}</a>
            </p>
            
            <p *ngIf="journal.data.purpose">
                <label style="font-weight: bold;"> Propósito: </label> {{journal.data.purpose}}
            </p>
            
            <p *ngIf="journal.data.start_year">
                <label style="font-weight: bold;"> Año de Inicio: </label> {{journal.data.start_year}}
            </p>
            
            <p *ngIf="journal.data.end_year">
                <label style="font-weight: bold;"> Año de Fin: </label> {{journal.data.end_year}}
            </p>
            
            <p *ngIf="journal.data.frequency">
                <label style="font-weight: bold;"> Frecuencia de Publicación: </label> {{journal.data.frequency}}
            </p>
            
            <div *ngIf="journal.data.description" class="e2e-inner-html-bound  text-align-justify" [innerHTML]="journal.data.description"></div>
            
        </mat-card-content>
        
    </mat-card>
    
    <!-- proves if it has version to review -->
    <div *ngIf="journal.version_to_review">
        <mat-card *ngIf="journalVersion != undefined && journalVersion.length != 0 && journalVersion[0].data" fxFlex="1 2 calc(15em + 20px)">
            <mat-card-header>

                <img mat-card-avatar *ngIf="journalVersion[0].data.logo; else logotemplate" [style.background-size]="'cover'" src="journalVersion[0].data.logo">
                <ng-template #logotemplate>
                    <img mat-card-avatar [src]="defaultLogo" alt="">
                </ng-template>

                <mat-card-title *ngIf="journalVersion[0].name">
                        {{journalVersion[0].name}}
                </mat-card-title>

                <mat-card-subtitle>
                    <label *ngIf="journalVersion[0].data.subtitle"> {{journalVersion[0].data.subtitle}} </label>
                    <label *ngIf="journalVersion[0].data.shortname"> {{journalVersion[0].data.shortname}} </label>
                </mat-card-subtitle>

            </mat-card-header>
            <mat-divider [inset]="true" style="margin-bottom: 1em; margin-top: 1em;"></mat-divider>
            <mat-card-content>
    
                <label style="font-weight: bold;">ISSN: </label>
                <div style="margin-left: .8em;">
                    <p *ngIf="journalVersion[0].data.issn.p">
                        <label>Impreso: </label> {{journalVersion[0].data.issn.p}}
                    </p>
                    <p *ngIf="journalVersion[0].data.issn.e">
                        <label>Electrónico</label> {{journalVersion[0].data.issn.e}}
                    </p>
                    <p *ngIf="journalVersion[0].data.issn.l">
                        <label>De enlace</label> {{journalVersion[0].data.issn.l}}
                    </p>
                </div>
    
                <p *ngIf="journalVersion[0].data.rnps">
                    <label style="font-weight: bold;"> RNPS: </label> {{journalVersion[0].data.rnps}}
                </p>
    
                <p *ngIf="journalVersion[0].data.url">
                    <label style="font-weight: bold;"> URL: </label> {{journalVersion[0].data.url}}
                </p>
    
                <p *ngIf="journalVersion[0].data.email">
                    <label style="font-weight: bold;"> Email: </label> {{journalVersion[0].data.email}}
                </p>
    
                <p *ngIf="journalVersion[0].data.seriadas_cubanas">
                    <label style="font-weight: bold;"> Seriadas Cubanas: </label> 
                    <a href="journalVersion[0].data.seriadas_cubanas">{{journalVersion[0].data.seriadas_cubanas}}</a>
                </p>
    
                <p *ngIf="journalVersion[0].data.purpose">
                    <label style="font-weight: bold;"> Propósito: </label> {{journalVersion[0].data.purpose}}
                </p>
    
                <p *ngIf="journalVersion[0].data.start_year">
                    <label style="font-weight: bold;"> Año de Inicio: </label> {{journalVersion[0].data.start_year}}
                </p>
    
                <p *ngIf="journalVersion[0].data.end_year">
                    <label style="font-weight: bold;"> Año de Fin: </label> {{journalVersion[0].data.end_year}}
                </p>
    
                <p *ngIf="journalVersion[0].data.frequency">
                    <label style="font-weight: bold;"> Frecuencia de Publicación: </label> {{journalVersion[0].data.frequency}}
                </p>
    
                <div *ngIf="journalVersion[0].data.description" class="e2e-inner-html-bound  text-align-justify" [innerHTML]="journalVersion[0].data.description"></div>
    
            </mat-card-content>
    
        </mat-card>
    </div>
    

</div>

<mat-card *ngIf="journal == undefined" style="margin: 1em;">

    <mat-card-content>
        <h1>No se encontró la información solicitada</h1>
    </mat-card-content>

    <mat-card-actions>
        <a mat-stroked-button color="primary" [routerLink]="['/journal']">Volver a la lista</a>
        
    </mat-card-actions>

</mat-card>