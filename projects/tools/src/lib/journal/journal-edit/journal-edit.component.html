<toco-form-container 
    *ngIf="stepperStep==0"
    [panels]="findPanel"
    [useAccordion]="false"
    [formGroup]="findFormGroup"
    [action]='searchJournalAction'
    [actionLabel]="'Buscar'"
    [deleteValuesAfterAction]='true'
></toco-form-container>

<button mat-button *ngIf="stepperStep>0" (click)="resetStepper()">Comenzar denuevo</button>

<mat-vertical-stepper *ngIf="stepperStep>0" [linear]=true #stepper>

    <mat-step [stepControl]="informationFormGroup">
        <ng-template matStepLabel>Completar la Información de la Revista</ng-template>
        <form 
            [formGroup]="informationFormGroup"
            *ngIf="stepperStep==1"
        >
            <toco-form-container 
                #informationPanelContainer
                [panels]="informationPanel" 
                [useAccordion]="false"
                fxLayout="row" 
                [formGroup]="informationFormGroup"
                [action]="informationAction"
                [deleteValuesAfterAction]="false"
            ></toco-form-container>

            <div>
                <button mat-raised-button color="primary" matStepperNext (click)="informationPanelContainer.doAction()">Siguiente</button>
            </div>
        </form>
    </mat-step>

    <mat-step [stepControl]="institutionFormGroup">
        <ng-template matStepLabel>Institución de la Revista</ng-template>
        <form 
            [formGroup]="institutionFormGroup"
            *ngIf="stepperStep==2"
        >
            <toco-form-container 
                #institutionPanelContainer
                [panels]="institutionPanel"
                [useAccordion]="false"
                fxLayout="row"
                [formGroup]="institutionFormGroup"
                [action]="institutionAction"
                [deleteValuesAfterAction]="false"
            ></toco-form-container>

            <div>
                <button mat-raised-button color="accent" matStepperPrevious>Atrás</button>
                <button mat-raised-button color="primary" matStepperNext (click)="institutionPanelContainer.doAction()">Siguiente</button>
            </div>  
        </form>
    </mat-step>

    <mat-step [stepControl]="indexFormGroup">
        <ng-template matStepLabel>Institución de la Revista</ng-template>
        <form 
            [formGroup]="indexFormGroup"
            *ngIf="stepperStep==3"
        >
            <toco-form-container
                #indexPanelContainer
                [panels]="indexPanel"
                [useAccordion]="false"
                fxLayout="row"
                [formGroup]="indexFormGroup"
                [action]="indexAction"
                [deleteValuesAfterAction]="false"
            ></toco-form-container>

            <div>
                <button mat-raised-button color="accent" matStepperPrevious>Atrás</button>
                <button mat-raised-button color="primary" matStepperNext (click)="indexPanelContainer.doAction()">Siguiente</button>
            </div>
        </form>
    </mat-step>

    <mat-step>
        <ng-template matStepLabel>Done</ng-template>
        You are now done.
        <div>
        <button mat-raised-button color="primary" matStepperPrevious>Back</button>
        <button mat-raised-button color="primary" (click)="stepper.reset()">Reset</button>
        </div>
    </mat-step>
</mat-vertical-stepper>

