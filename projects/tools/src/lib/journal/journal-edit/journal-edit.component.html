<toco-form-container 
    *ngIf="!journal"
    [panels]="findPanel"
    [useAccordion]="false"
    [formGroup]="findFormGroup"
    [action]='searchJournalAction'
    [actionLabel]="'Buscar'"
    [deleteValuesAfterAction]='true'
></toco-form-container>

<button mat-button *ngIf="journal" (click)="resetStepper()">Comenzar denuevo</button>

<mat-vertical-stepper *ngIf="journal" [linear]=true #stepper>

    <mat-step [stepControl]="informationFormGroup">
        <form [formGroup]="informationFormGroup">
        <ng-template matStepLabel>Completar la Información de la Revista</ng-template>
        
        <toco-form-container 
            #informationPanelContainer 
            [panels]="informationPanel" 
            [useAccordion]="false"
            fxLayout="row" 
            [formGroup]="informationFormGroup"
            [action]="informationAction"
            [deleteValuesAfterAction]="false"
        ></toco-form-container>

        <div>
            <button mat-raised-button color="primary" matStepperNext (click)="informationPanelContainer.doAction()">Siguiente</button>
        </div>
        </form>
    </mat-step>

    <mat-step [stepControl]="institutionFormGroup">
        <form [formGroup]="institutionFormGroup">
        <ng-template matStepLabel>Institución de la Revista</ng-template>

        <toco-form-container 
            [panels]="institutionPanel"
            [useAccordion]="false"
            fxLayout="row"
            [formGroup]="institutionFormGroup"
        ></toco-form-container>

        <div>
            <button mat-raised-button color="accent" matStepperPrevious>Atrás</button>
            <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
        </div>
        </form>
    </mat-step>

    <mat-step [stepControl]="indexFormGroup">
        <form [formGroup]="indexFormGroup">
        <ng-template matStepLabel>Institución de la Revista</ng-template>
        
        <toco-form-container 
            [panels]="indexPanel"
            [useAccordion]="false"
            fxLayout="row"
            [formGroup]="indexFormGroup"
        ></toco-form-container>

        <div>
            <button mat-raised-button color="accent" matStepperPrevious>Atrás</button>
            <button mat-raised-button color="primary" matStepperNext>Siguiente</button>
        </div>
        </form>
    </mat-step>

    <mat-step>
        <ng-template matStepLabel>Done</ng-template>
        You are now done.
        <div>
        <button mat-raised-button color="primary" matStepperPrevious>Back</button>
        <button mat-raised-button color="primary" (click)="stepper.reset()">Reset</button>
        </div>
    </mat-step>
</mat-vertical-stepper>

