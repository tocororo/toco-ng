
<mat-vertical-stepper [linear]=true #stepper>

    <mat-step *ngIf="informationPanel" [stepControl]="informationFormGroup">
        <ng-template matStepLabel>Completar la Informaci칩n de la Revista</ng-template>
        <form 
            [formGroup]="informationFormGroup"
        >
            <toco-form-container 
                #informationPanelContainer
                [panels]="informationPanel" 
                [useAccordion]="false"
                fxLayout="row" 
                [formGroup]="informationFormGroup"
                [action]="stepAction1"
                [deleteValuesAfterAction]="false"
            ></toco-form-container>

            <div>
                <button mat-raised-button color="primary" matStepperNext (click)="informationPanelContainer.doAction()">Siguiente</button>
            </div>
        </form>
    </mat-step>

    <mat-step *ngIf="organizationPanel" [stepControl]="organizationFormGroup">
        <ng-template matStepLabel>Instituci칩n de la Revista</ng-template>
        <form 
            [formGroup]="organizationFormGroup"
        >
            <toco-form-container 
                *ngIf="organizationPanel"
                #organizationPanelContainer
                [panels]="organizationPanel"
                [useAccordion]="false"
                fxLayout="row"
                [action]="organizationAction"
                [deleteValuesAfterAction]="false"
            ></toco-form-container>

            <toco-form-container 
                *ngIf="institutionPanel"
                #institutionPanelContainer
                [panels]="institutionPanel"
                [useAccordion]="false"
                fxLayout="row"
                [action]="institutionAction"
                [deleteValuesAfterAction]="false"
            ></toco-form-container>

            <toco-form-container 
                *ngIf="entityPanel"
                #entityPanelContainer
                [panels]="entityPanel"
                [useAccordion]="false"
                fxLayout="row"
                [action]="entityAction"
                [deleteValuesAfterAction]="false"
            ></toco-form-container>


            <div>
                <button mat-raised-button color="accent" matStepperPrevious>Atr치s</button>
                <button mat-raised-button color="primary" matStepperNext (click)="stepAction2.doit()">Siguiente</button>
            </div>  
        </form>
    </mat-step>

    <mat-step *ngIf="indexPanel" [stepControl]="indexFormGroup">
        <ng-template matStepLabel>Indizaciones</ng-template>
        <form 
            [formGroup]="indexFormGroup"
        >
            <toco-form-container
                #indexPanelContainer
                [panels]="indexPanel"
                [useAccordion]="true"
                fxLayout="row"
                [formGroup]="indexFormGroup"
                [action]="indexAction"
                [actionLabel]="'Adicionar Indizacion'"
                [deleteValuesAfterAction]="false"
            ></toco-form-container>

            <div>
                <button mat-raised-button color="accent" matStepperPrevious>Atr치s</button>
                <button mat-raised-button color="primary" matStepperNext (click)="stepAction3.doit()">Siguiente</button>
            </div>
        </form>
    </mat-step>

    <mat-step>
        <ng-template matStepLabel>Done</ng-template>
        You are now done.
        <div>
        <button mat-raised-button color="primary" matStepperPrevious>Back</button>
        <button mat-raised-button color="primary" (click)="stepper.reset()">Reset</button>
        </div>
    </mat-step>
</mat-vertical-stepper>

